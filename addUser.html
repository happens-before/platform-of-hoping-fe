<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="js/jquery-2.1.0.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="css/reset.css" type="text/css">
    <link rel="stylesheet" href="css/login.css" type="text/css">

    <title>添加新用户</title>
    <style type="text/css">
    </style>
</head>
<body>
<div class="container">

    <div id="main">
        <div class="form-horizontal">
            <div class="form-group">
                <label for="school" class="col-sm-2 control-label">学校名称</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="school" placeholder="学校名称">
                </div>
            </div>
            <div class="form-group">
                <label for="college" class="col-sm-2 control-label">学院名称</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="college" placeholder="所在学院名称">
                </div>
            </div>
            <div class="form-group">
                <label for="profession" class="col-sm-2 control-label">专业名称</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="profession" placeholder="所在专业名称">
                </div>
            </div>
            <div class="form-group">
                <label for="community" class="col-sm-2 control-label">社团名称</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="community" placeholder="所在社团名称">
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-2 control-label">是否社团部长</label>
                <div class="col-sm-10">
                    <label><input name="minister" type="radio" value="0" checked="checked" />否</label>
                    <label><input name="minister" type="radio" value="1" />是 </label>
                </div>
            </div>
            <div class="form-group">
                <label for="userSno" class="col-sm-2 control-label">学号信息</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="userSno" placeholder="学号信息">
                </div>
            </div>
            <div class="form-group">
                <label for="userName" class="col-sm-2 control-label">姓名</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="userName" placeholder="姓名">
                </div>
            </div>

            <div class="form-group">
                <label for="age" class="col-sm-2 control-label">年龄</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="age" placeholder="年龄">
                </div>
            </div>

            <div class="form-group">
                <label  class="col-sm-2 control-label">性别</label>
                <div class="col-sm-10">
                    <label><input name="sex" type="radio" value="男" checked="checked" />男</label>
                    <label><input name="sex" type="radio" value="女" />女</label>

                </div>
            </div>

            <div class="form-group">
                <label for="email" class="col-sm-2 control-label">电子邮件</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="email" placeholder="电子邮件">
                </div>
            </div>
            <div class="form-group">
                <label for="phone" class="col-sm-2 control-label">电话号码</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="phone" placeholder="电话号码">
                </div>
            </div>

            <div class="form-group">
                <label for="password" class="col-sm-2 control-label">密码</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="password" placeholder="密码（6-20位字母或数字）">
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default" onclick="addUser()">注册</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    function addUser() {
        var sendData = {
            "school": $("#school").val(),
            "college": $("#college").val(),
            "profession": $("#profession").val(),
            "userSno": $("#userSno").val(),
            "community": $("#community").val(),
            "minister": $("input[name='minister']:checked").val(),
            "userName": $("#userName").val(),
            "password": $("#password").val(),
            "sex": $("input[name='sex']:checked").val(),
            "age": $("#age").val(),
            "email": $("#email").val(),
            "phone": $("#phone").val()
        };
        $.ajax({
            xhrFields: {
                withCredentials: true
            },
            url: "http://localhost:8080/user/register",
            type: "post",
            data: JSON.stringify(sendData),
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (e) {
                console.log(e)
                alert(e.message)
                window.location.href = "user.html"
            },
            error: function (e) {
                console.log(e);
                console.log("失败");
            },
        });
    }
</script>
</body>
</html>