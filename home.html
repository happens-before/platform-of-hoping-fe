<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>主页</title>
    <script src="js/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="layui/css/layui.css">
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/template.js"></script>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/popper.js/1.12.5/umd/popper.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="./css/home.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/html" id="newsHome">
        <div class="news">
            <p>最新新闻</p>
            {{each result.newsHomeDto as value}}
            <div class='div1'>
                <div class='box'>
                    <img src={{value.picturePath}} style="width: 200px; height: 280px;background: palegreen; "/>
                </div>
                <div class="text">
                    <a>
                        <a href="newsInfo.html?newsId={{value.newsId}}">
                            <button type='button' class='btn btn-primary'>详情</button>
                        </a>
                    </a>
                </div>
            </div>
            {{/each}}
        </div>
        <div class="activity" style="clear: both;">
            <p>最新活动</p>
            {{each result.activity as value}}
            <div>
                <div class="time fl">
                    <div style="font-size: 23px;width: 70px;font-weight: bold;height: 30px;line-height: 33px;">火热</div>
                    <div style="width: 70px;height: 25px;line-height: 22px;font-size: 14px;">进行中</div>
                </div>
                <p style="width: 350px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">
                    <a class="tit" href="activityInfo.html?activityId={{value.activityId}}" target="_blank"
                       style="font-weight:bold">{{value.activityTopic + "健康的年繁花似锦的佛教斯蒂芬健康 "}}</a>
                </p>
                <p class="zy fl" style="width: 350px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">
                    {{value.activityContent+"参加大会参加三歌词也更餐厅俄国参与第一次骨髓因此顾问从远古俄vcg"}}</p>
                <div>
                    <button type='button' class='btn btn-primary' style="margin-left: 100px;">参加</button>
                </div>
                <div class="clearfix" style="clear: both;"></div>

                {{/each}}
            </div>


    </script>
</head>

<body>
<div class="layui-layout layui-layout-admin">
    <div id="page1" class="layui-header"></div>
    <!--<div id="tet"></div>-->
    <div style="margin-top:40px;">
        <div style="margin-left: 80px;" id="tet"></div>
    </div>
</div>
</div>
<script>$("#page1").load("navHeader.html");</script>


<script>
    window.onload = function () {
        $.ajax({
            xhrFields: {
                withCredentials: true
            },
            url: "http://localhost:8080/news/home",
            type: "get",
            dataType: "json",
            success: function (e) {

                var c = {result: e.data}
                console.log(c);
                var html = template('newsHome', c);
                //
                // var c1 = {activity: e.data.activity}
                // console.log(c1);
                // var html = template('newsHome', c1);
                $("#tet").html(html);
            },
            error: function (e) {
                console.log(e);
                console.log("失败");
            }
        });
    }
</script>
</body>

</html>